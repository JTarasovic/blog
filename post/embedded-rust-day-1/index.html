<!doctype html><html lang=en data-mode=dark><head prefix="og: http://ogp.me/ns#"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.74.3 -- gohugo.io / Color Your World -- gitlab.com/rmaguiar/hugo-theme-color-your-world"><title>Embedded Rust Day 1</title><meta name=author content="Jason Tarasovic"><meta name=robots content="index follow"><meta name=referrer content="no-referrer-when-downgrade"><link rel=canonical href=https://blog.tarasovic.cloud/post/embedded-rust-day-1/><meta property="og:site_name" content="Opinions Were Like Kittens"><meta property="og:title" content="Embedded Rust Day 1"><meta property="og:url" content="https://blog.tarasovic.cloud/post/embedded-rust-day-1/"><meta property="og:type" content="article"><meta property="article:published_time" content="2020-08-22"><meta property="article:modified_time" content="2020-08-23"><meta property="og:updated_time" content="2020-08-23"><meta name=twitter:creator content="@J_Tarasovic"><meta name=twitter:site content="@J_Tarasovic"><meta name=theme-color content="#222"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="default"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebSite","@id":"https:\/\/blog.tarasovic.cloud\/"},"headline":"Embedded Rust Day 1","description":"","url":"https:\/\/blog.tarasovic.cloud\/post\/embedded-rust-day-1\/","inLanguage":"en","datePublished":"2020-08-22","dateModified":"2020-08-23","wordCount":"370","publisher":{"@type":"Person","name":"Jason Tarasovic"},"author":{"@type":"Person","name":"Jason Tarasovic","description":"Some Dude","sameAs":["https://github.com/JTarasovic","https://gitlab.com/J_Tarasovic","https://keybase.io/jtarasovic","https://www.linkedin.com/in/jtarasovic","https://www.reddit.com/user/J_Tarasovic","https://twitter.com/J_Tarasovic"]}}</script><link rel=stylesheet href=/css/main.min.ddffb60e54a8fa4a336dbcd0598c141568d68fbb592b1be5b7516c93bf6a0dd9b0657f5907e0c141464501808ad43f586ca6a34db27da8ed78b922250372fedd.css integrity="sha512-3f+2DlSo+kozbbzQWYwUFWjWj7tZKxvlt1Fsk79qDdmwZX9ZB+DBQUZFAYCK1D9YbKajTbJ9qO14uSIlA3L+3Q=="><noscript><meta name=theme-color content="#225670"><style>html{--accent: #225670}.req-js,img.lazyload{display:none}</style></noscript><link rel=preload href=/fonts/open-sans-v17-latin-700.woff as=font crossorigin=anonymous><link rel=preload href=/fonts/open-sans-v17-latin-700.woff2 as=font crossorigin=anonymous><link rel=preload href=/fonts/open-sans-v17-latin-italic.woff as=font crossorigin=anonymous><link rel=preload href=/fonts/open-sans-v17-latin-italic.woff2 as=font crossorigin=anonymous><link rel=preload href=/fonts/open-sans-v17-latin-regular.woff as=font crossorigin=anonymous><link rel=preload href=/fonts/open-sans-v17-latin-regular.woff2 as=font crossorigin=anonymous><link rel=preload href=/fonts/oswald-v29-latin-700.woff as=font crossorigin=anonymous><link rel=preload href=/fonts/oswald-v29-latin-700.woff2 as=font crossorigin=anonymous><script defer src=/js/lazysizes.min.min.a85a0eccaf9ef0d2f083a9dc4d0e05dc90acc5be0e84b43e20fde692871e1861ae0191f7c3ca2c00f2664efabf6aff2625a478b8f22ea43cb056cb6ec9a8d948.js crossorigin=anonymous></script><link rel=me href=https://github.com/JTarasovic><link rel=me href=https://gitlab.com/J_Tarasovic><link rel=me href=https://keybase.io/jtarasovic><link rel=me href=https://www.linkedin.com/in/jtarasovic><link rel=me href=https://www.reddit.com/user/J_Tarasovic><link rel=me href=https://twitter.com/J_Tarasovic><script>'use strict';const ROOT=document.documentElement;const SHEET=document.documentElement.style;const META_THEME_COLOR=document.querySelector('meta[name=theme-color]');function setDark(){ROOT.dataset.mode='dark'};function setLight(){ROOT.dataset.mode='light'};if(localStorage.getItem('isDark')=='true'){setDark()}else if(localStorage.getItem('isDark')=='false'){setLight()};function getAccent(){if(ROOT.dataset.mode==='dark'){if(localStorage.getItem('darkAccent')===null){var currentAccent="#225670"}else{var currentAccent=localStorage.getItem('darkAccent')}}else if(ROOT.dataset.mode==='light'){if(localStorage.getItem('lightAccent')===null){var currentAccent="#225670"}else{var currentAccent=localStorage.getItem('lightAccent')}};return currentAccent};var activeAccent=getAccent();SHEET.setProperty('--accent',activeAccent);META_THEME_COLOR.setAttribute('content',activeAccent);function updateAccent(){var activeAccent=getAccent();SHEET.setProperty('--accent',activeAccent);PALETTE.value=activeAccent;META_THEME_COLOR.setAttribute('content',activeAccent);};document.addEventListener('DOMContentLoaded',function(){PALETTE.value=activeAccent;function smoothTransition(){document.body.style.transition=document.querySelector('header').style.transition=document.querySelector('footer').style.transition='background-color .3s ease, color .3s ease'};function userModeChange(){smoothTransition();if(ROOT.dataset.mode=='light'){setDark();localStorage.setItem('isDark','true')}else{setLight();localStorage.setItem('isDark','false')};updateAccent()};document.querySelector('footer button').addEventListener('click',userModeChange)})</script></head><body><header><a href=/>Opinions Were Like Kittens</a><nav aria-label="Main menu."><ul><li><a class=btn href=/about/>About</a></li></ul></nav></header><div class=filler><main><article><header><h1>Embedded Rust Day 1</h1><section class=terms><ul><li class=category><a class=btn href=/categories/development/>development</a></li><li><a class=btn href=/tags/embedded/>embedded</a></li><li><a class=btn href=/tags/riscv/>riscv</a></li><li><a class=btn href=/tags/rust/>rust</a></li></ul></section><p>Last updated on <time datetime=2020-08-23>2020-08-23</time></p></header><p>Day 1 is done. I spent a fair amount of time writing the introductory post.
Additionally, while I am waiting on materials to arrive, I started to set up my
environment.</p><h2 id=getting-started>Getting Started <a class=anchor href=#getting-started title='Anchor for "Getting Started".'><svg aria-hidden="true"><use xlink:href="#hashtag"/></svg></a></h2><p>First things first. I started looking around to figure out how to get set up to
do embedded Rust work.</p><p>I already have <code>rustup</code> installed so nothing to do there yet.</p><p>Next, I wanted to get my HiFive1 Rev B running using the
<a href=https://github.com/riscv-rust/riscv-rust-quickstart>riscv-rust-quickstart</a>.
I downloaded the Segger JLink software for my system, grabbed the nearest USB-B
micro, plugged it in and fired up <code>screen</code> to connect.</p><p>Nothing.</p><p>Reset.</p><p>Nothing.</p><p>Unplug it and re-plug it back in.</p><p>Nothing.</p><p>Okay. This is a less than auspicious start. Let&rsquo;s see what the kernel says.
I spent more than a few minutes poking around <code>dmesg</code> and <code>lsusb</code> but there
wasn&rsquo;t even anything there to see that the kernel even recognized that the
device was inserted but it was getting power and blinking.</p><p>Of course! The cable is power only. Doh!</p><p>After grabbing a real cable, I could see the serial output from the device with
no issues.</p><h2 id=flashing-the-hifive1>Flashing the HiFive1 <a class=anchor href=#flashing-the-hifive1 title='Anchor for "Flashing the HiFive1".'><svg aria-hidden="true"><use xlink:href="#hashtag"/></svg></a></h2><p>Next up, I installed <code>cargo generate</code> and used it to generate the quickstart
project and flashed a couple of examples on the device.</p><p>As I have a rev b, I used <code>JLinkGDBServer</code> to connect to the device and
<code>cargo run</code> connected through it. It wasn&rsquo;t a workflow that I&rsquo;d experienced
before and I&rsquo;ve never done much with <code>gdb</code>. First day and there&rsquo;s already
something to add to the TODO list! Fortunately, the
<a href=https://docs.rust-embedded.org/discovery/index.html>Discovery Book</a>
seems to get right into it.</p><blockquote><p>We&rsquo;ll make plenty use of tooling to ease development. &ldquo;Real&rdquo; debugging, with
GDB, and logging will be introduced early on. Using LEDs as a debugging
mechanism has no place here.</p></blockquote><h2 id=wrapping-up>Wrapping up <a class=anchor href=#wrapping-up title='Anchor for "Wrapping up".'><svg aria-hidden="true"><use xlink:href="#hashtag"/></svg></a></h2><p>I started to look through the examples to understand how they are put together
and how they work. I was hoping to get through a bit more but it was getting
late and was time to wrap up.</p><p>On deck for tomorrow is finishing up going through those examples, starting
on the Discovery Book and finalizing the orders for some of the components
that I don&rsquo;t already have.</p></article></main></div><footer><p></p><section class=req-js><button class=outline-dashed title="Change to light/dark mode."><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><use xlink:href="#adjust"/></svg></button><input class=outline-dashed type=color list=presets value=#225670 title="Change accent color." aria-label="Change accent color."><datalist id=presets><option value=#225670><option value=#225670></datalist></section></footer><svg xmlns="http://www.w3.org/2000/svg" width="0" height="0" aria-hidden="true"><symbol viewBox="0 0 512 512" id="adjust"><path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705.0 184 82.311 184 184 0 101.705-82.311 184-184 184z"/></symbol><symbol viewBox="0 0 448 512" id="hashtag"><path d="M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 00-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 00-11.813 9.891L132.528 128H53.432a12 12 0 00-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 00-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0011.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0011.813-9.891L315.472 384h79.096a12 12 0 0011.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0011.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z"/></symbol></svg><script>'use strict';const PALETTE=document.querySelector('footer input');PALETTE.onchange=function(){const PICK=PALETTE.value;SHEET.setProperty('--accent',PICK);if(ROOT.dataset.mode==='light'){localStorage.setItem('lightAccent',PICK)}else{localStorage.setItem('darkAccent',PICK)};updateAccent()};</script></body></html>